using System;
using System.Collections.Generic;
using System.Linq;

namespace LearnAlphabetGame
{
    public class Program 
    {
        static void Main(string[] args) 
        {
            Game();
        }
        //Этот метод исключительно для теста в консоли 
        //Остальное всё будет перенесенно в Unity
        public static void Game()
        {
            AlphabetLogic logic = new AlphabetLogic(3,6,9);
            logic.FillArray();
            logic.CurretLevelDifficulty = 0;
            logic.GetRandomLetter(logic.LevelDifficulty[logic.CurretLevelDifficulty]);
            Console.WriteLine("FIND Letter ="+logic.FindLetter);
            for(int i = 0; i < logic.LevelDifficulty[logic.CurretLevelDifficulty];i++)
            {
                Console.WriteLine("| {0} |",logic.arrLetter[i]);     
            }
        }
        //Конец грязи
    }
    
    public class AlphabetLogic
    {
        const string Alphabet = "ABCDEFGHIJKLMNOPQRSTUVWXYZ";
        public string  FindLetter = ""; 
        public int CurretLevelDifficulty;
        public int[] LevelDifficulty;
        public string[] arrLetter;

        public AlphabetLogic()        
        {
            int StandardDifficulty = 2;
            EditDifficultyCountCell(StandardDifficulty,StandardDifficulty++,StandardDifficulty+2); 
        }
        
        public AlphabetLogic(int ValueDifficultyEasy,int ValuedifficultyMedium,int ValuedifficultyHard)
        {
            EditDifficultyCountCell(ValueDifficultyEasy,ValuedifficultyMedium,ValuedifficultyHard);    
        }
        
        public void EditDifficultyCountCell(int EasyDifficulty,int MediumDifficulty,int HardDifficulty)
        {
            arrLetter = new string[HardDifficulty];
            LevelDifficulty = new int[3];
            LevelDifficulty[0] = EasyDifficulty;
            LevelDifficulty[1] = MediumDifficulty;
            LevelDifficulty[2] = HardDifficulty;
        }
        
        public void FillArray()
        {
            Random rnd = new Random();
            for (int i = 0; i < LevelDifficulty[2]; i++)
            {
                arrLetter[i] = Char.ToString(Alphabet[rnd.Next(0,26)]);
                for(int j = 0; j < i ;j++)
                {
                    if(arrLetter[j] == arrLetter[i]) 
                    {
                        arrLetter[i] = Char.ToString(Alphabet[rnd.Next(0,26)]);
                        j = 0;
                    }
                }
            }
            FindLetter = arrLetter[0];
        }
        
        public void GetRandomLetter(int LevelDifficulty)
        {
            Random rnd = new Random();
            FindLetter = arrLetter[rnd.Next(0,LevelDifficulty)];
        }
    }
}